parse_contract:
  description: >
    Read and parse the uploaded contract text. 
    Identify and label key clauses such as confidentiality, termination, payment, and liability.
    Return a structured summary that can be analyzed by other agents.
  expected_output: >
    A structured list of contract clauses with labels and short summaries for each section.
  agent: researcher

analyze_risks:
  description: >
    Review the parsed contract clauses and assess each one for potential risks, unfair terms,
    or ambiguous language. If uncertain about a clause, delegate to the Legal Researcher 
    for additional context.
  expected_output: >
    A risk report in table form with each clause, its risk level (Low, Medium, High),
    a short justification, and notes for further clarification.
  agent: risk_analyzer

research_clarifications:
  description: >
    Search the internet for definitions, precedents, or explanations about a given clause or term.
    Focus on providing clear, factual insights and cite sources concisely.
  expected_output: >
    A short paragraph summarizing findings with at least one credible source link.
  agent: legal_researcher

summarize_for_user:
  description: >
    Take the full analysis and create a clear, readable summary for the end user. 
    Explain each risk in plain English and suggest what they might ask a lawyer or clarify 
    before signing. Include a disclaimer that this is not legal advice.
  expected_output: >
    A markdown-formatted report with:
    - A summary of the contract
    - A table of flagged clauses and risks
    - Easy-to-understand explanations and actionable insights
    - A disclaimer at the end
  agent: user_advocate

send_summary_email:
  description: >
    Take the completed contract summary and send it to the user's provided email address. 
    Ensure the email is professional, includes the summary text, and has a short introduction 
    and disclaimer. 
    If possible, include the summary as both inline text and as a text attachment.
  expected_output: >
    Confirmation message indicating the email was sent successfully.
  agent: email_agent
